<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>游戏1</title>
	<style media="screen">
		canvas{
			border: 1px black solid;
		}
	</style>
</head>
<body>
	<canvas id="canvas" width="400" height="400" style="border: 1px solid"></canvas>
	<!-- <script type="text/javascript" src="../../../canvas/example.js"></script> -->
	<script type="text/javascript">
	var log = console.log.bind(console);
	var canvas = document.querySelector('#canvas');
	var ctx = canvas.getContext('2d');

	var x = 100;
	var y = 300;
	var speed = 5;

	var leftDown = false;
	var rightDown = false;
	var img = new Image();

	img.src = 'page1.jpg';
	log(img);
	img.onload = function(){
	ctx.drawImage(img,100,150);
}
window.addEventListener('keydown',function(event){
	log('keydown')
	var k = event.key
	// log(event);
	if (k=='a') {
		leftDown = true;
	}else if(k=='d'){
		rightDown = true;
	}
})
window.addEventListener('keyup',function(event){
	log('keyup')
	var k = event.key
	// log(event);
	if (k=='a') {
		leftDown = false;
	}else if(k=='d'){
		rightDown = false;
	}
})
setInterval(function(){
	//update x
	if (leftDown) {
		x -=speed;

	}else if (rightDown) {
		x+=speed;

	}
	//clamp x

	//draw image
	ctx.clearRect(0,0,canvas.width,canvas.height);
	ctx.drawImage(img,x,y);
},1000/30)

	var _main = function(){
		
	}

	_main()
	</script>
</body>
</html>